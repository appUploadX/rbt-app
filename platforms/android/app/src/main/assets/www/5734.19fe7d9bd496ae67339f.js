(self.webpackChunkrbt_1=self.webpackChunkrbt_1||[]).push([[5734],{5734:(t,e,o)=>{"use strict";o.r(e),o.d(e,{AttachSupervisorPageModule:()=>h});var n=o(6274),s=o(4988),r=o(4683),i=o(3991),c=o(1855),a=o(3606),l=o(427);function u(t,e){if(1&t&&(a.TgZ(0,"ion-select-option",8),a._uU(1),a.qZA()),2&t){const t=e.$implicit;a.s9C("value",t[1]),a.xp6(1),a.Oqu(t[0])}}const p=[{path:"",component:(()=>{class t{constructor(t,e,o,n,s,r){this.router=t,this.postPvd=e,this.toastController=o,this.menuCtrl=n,this.location=s,this.plt=r}ngOnInit(){this.getSupervisors()}backButton(){this.router.navigate(["/profile"])}getSupervisors(){return new Promise(t=>{let e={action:"fetchSupervisortoattach",ucode:localStorage.getItem("UCODE"),utype:localStorage.getItem("UTYPE")};this.postPvd.postData(e,localStorage.getItem("HOMELINK")).subscribe(t=>{"ok"==t.status?(console.log(t),this.supervisors=t.supervisors):this.openToaste("<center>Error Occured!</center>")})})}openToasts(t){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,duration:2e3,color:"success"})).present()})}openToaste(t){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,duration:2e3,color:"danger"})).present()})}create(){if(this.supervisor){if(this.plt.is("ios"))var t="ios";else t=this.plt.is("android")?"android":"APP";return new Promise(e=>{let o={action:"attachSupervisor",ucode:localStorage.getItem("UCODE"),supcode:this.supervisor,utype:localStorage.getItem("UTYPE"),ptname:t};console.log(o),this.postPvd.postData(o,localStorage.getItem("HOMELINK")).subscribe(t=>{"ok"==t.status?(this.openToasts("<center>Supervisor successfully attached.<center>"),$("ion-select").val(""),this.getSupervisors()):this.openToaste("<center>Error occured!<center>")})})}this.openToaste("<center>Please select a supervisor!<center>")}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(i.F0),a.Y36(l.B),a.Y36(r.yF),a.Y36(r._q),a.Y36(n.Ye),a.Y36(r.t4))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-attach-supervisor"]],decls:21,vars:2,consts:[["slot","start"],[3,"click"],["name","chevron-back-outline",1,"return"],["position","floating"],[2,"color","red"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["expand","block","color","secondary","size","small",3,"click"],[3,"value"]],template:function(t,e){1&t&&(a.TgZ(0,"ion-header"),a.TgZ(1,"ion-toolbar"),a.TgZ(2,"ion-buttons",0),a.TgZ(3,"ion-button",1),a.NdJ("click",function(){return e.backButton()}),a._UZ(4,"ion-icon",2),a.TgZ(5,"ion-label"),a._uU(6,"Back"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(7,"ion-content"),a.TgZ(8,"ion-list"),a.TgZ(9,"ion-list-header"),a.TgZ(10,"ion-label"),a._uU(11,"Attach a supervisor"),a.qZA(),a.qZA(),a.TgZ(12,"ion-item"),a.TgZ(13,"ion-label",3),a._uU(14,"Supervisor Name "),a.TgZ(15,"span",4),a._uU(16,"*"),a.qZA(),a.qZA(),a.TgZ(17,"ion-select",5),a.NdJ("ngModelChange",function(t){return e.supervisor=t}),a.YNc(18,u,2,2,"ion-select-option",6),a.qZA(),a.qZA(),a.qZA(),a.TgZ(19,"ion-button",7),a.NdJ("click",function(){return e.create()}),a._uU(20,"Attach"),a.qZA(),a.qZA()),2&t&&(a.xp6(17),a.Q6J("ngModel",e.supervisor),a.xp6(1),a.Q6J("ngForOf",e.supervisors))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.gu,r.Q$,r.W2,r.q_,r.yh,r.Ie,r.t9,r.QI,s.JJ,s.On,n.sg,r.n0],styles:["ion-list-header[_ngcontent-%COMP%]{color:#202945;font-weight:500;font-family:Poetsen One;font-size:larger;text-align:center;margin-left:-10px!important}ion-button[_ngcontent-%COMP%]{text-transform:none;font-family:Poetsen One}ion-item[_ngcontent-%COMP%]{font-size:12px;--min-height:10px}"]}),t})()}];let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[i.Bz.forChild(p)],i.Bz]}),t})(),h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[n.ez,s.u5,r.Pc,g]]}),t})()}}]);