(self.webpackChunkrbt_1=self.webpackChunkrbt_1||[]).push([[8543],{8543:(t,e,o)=>{"use strict";o.r(e),o.d(e,{AttachCompanyPageModule:()=>m});var n=o(6274),a=o(4988),i=o(4683),c=o(3991),s=o(1855),r=o(3606),l=o(427);function u(t,e){if(1&t&&(r.TgZ(0,"ion-select-option",8),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.s9C("value",t[1]),r.xp6(1),r.Oqu(t[0])}}const p=[{path:"",component:(()=>{class t{constructor(t,e,o,n,a,i){this.router=t,this.postPvd=e,this.toastController=o,this.menuCtrl=n,this.location=a,this.plt=i}ngOnInit(){this.getCompanies()}backButton(){this.router.navigate(["/profile"])}getCompanies(){return new Promise(t=>{let e={action:"fetchCompanytoattach",ucode:localStorage.getItem("UCODE"),utype:localStorage.getItem("UTYPE")};this.postPvd.postData(e,localStorage.getItem("HOMELINK")).subscribe(t=>{"ok"==t.status?this.company=t.companies:this.openToaste("<center>Error Occured!</center>")})})}openToasts(t){return(0,s.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,duration:2e3,color:"success"})).present()})}openToaste(t){return(0,s.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,duration:2e3,color:"danger"})).present()})}create(){if(this.companies)return new Promise(t=>{let e={action:"attachCompany",ucode:localStorage.getItem("UCODE"),compcode:this.companies,utype:localStorage.getItem("UTYPE")};this.postPvd.postData(e,localStorage.getItem("HOMELINK")).subscribe(t=>{"ok"==t.status?(this.openToasts("<center>Company successfully attached.<center>"),$("ion-select").val(""),this.getCompanies()):this.openToaste("<center>Error occured!<center>")})});this.openToaste("<center>Please indicate a company!<center>")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(c.F0),r.Y36(l.B),r.Y36(i.yF),r.Y36(i._q),r.Y36(n.Ye),r.Y36(i.t4))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-attach-company"]],decls:21,vars:2,consts:[["slot","start"],[3,"click"],["name","chevron-back-outline",1,"return"],["position","floating"],[2,"color","red"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["expand","block","color","secondary","size","small",3,"click"],[3,"value"]],template:function(t,e){1&t&&(r.TgZ(0,"ion-header"),r.TgZ(1,"ion-toolbar"),r.TgZ(2,"ion-buttons",0),r.TgZ(3,"ion-button",1),r.NdJ("click",function(){return e.backButton()}),r._UZ(4,"ion-icon",2),r.TgZ(5,"ion-label"),r._uU(6,"Back"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"ion-content"),r.TgZ(8,"ion-list"),r.TgZ(9,"ion-list-header"),r.TgZ(10,"ion-label"),r._uU(11,"Attach a company"),r.qZA(),r.qZA(),r.TgZ(12,"ion-item"),r.TgZ(13,"ion-label",3),r._uU(14,"Company Name "),r.TgZ(15,"span",4),r._uU(16,"*"),r.qZA(),r.qZA(),r.TgZ(17,"ion-select",5),r.NdJ("ngModelChange",function(t){return e.companies=t}),r.YNc(18,u,2,2,"ion-select-option",6),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"ion-button",7),r.NdJ("click",function(){return e.create()}),r._uU(20,"Attach"),r.qZA(),r.qZA()),2&t&&(r.xp6(17),r.Q6J("ngModel",e.companies),r.xp6(1),r.Q6J("ngForOf",e.company))},directives:[i.Gu,i.sr,i.Sm,i.YG,i.gu,i.Q$,i.W2,i.q_,i.yh,i.Ie,i.t9,i.QI,a.JJ,a.On,n.sg,i.n0],styles:["ion-list-header[_ngcontent-%COMP%]{color:#202945;font-weight:500;font-family:Poetsen One;font-size:larger;text-align:center;margin-left:-10px!important}ion-button[_ngcontent-%COMP%]{text-transform:none;font-family:Poetsen One}ion-item[_ngcontent-%COMP%]{font-size:12px;--min-height:10px}"]}),t})()}];let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[c.Bz.forChild(p)],c.Bz]}),t})(),m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.ez,a.u5,i.Pc,g]]}),t})()}}]);