(self.webpackChunkrbt_1=self.webpackChunkrbt_1||[]).push([[1488],{1488:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CreateCompanyPageModule:()=>Z});var o=n(6274),i=n(4988),a=n(4683),r=n(3991),s=n(1855),c=n(3606),l=n(427);const u=["cn"],p=["ce"],m=["phone"],d=[{path:"",component:(()=>{class e{constructor(e,t,n,o,i,a){this.router=e,this.postPvd=t,this.toastController=n,this.menuCtrl=o,this.location=i,this.plt=a}ngOnInit(){}create(){var e=0,t=[],n=[];if($(".required").each(function(){""==$(this).val()&&(e++,t.push($(this).siblings("ion-label").text()),n.push($(this).attr("id")))}),0==e)return this.ptname=this.plt.is("ios")?"ios":this.plt.is("android")?"android":"APP",new Promise(e=>{let t={action:"createCompany",ucode:localStorage.getItem("UCODE"),cn:$("#cn").val(),ce:$("#ce").val(),phone:$("#phone").val(),ln:$("#ln").val(),fn:$("#fn").val(),pn1:$("#pn1").val(),email:$("#email").val(),plt:this.ptname};console.log(localStorage.getItem("HOMELINK")),this.postPvd.postData(t,localStorage.getItem("HOMELINK")).subscribe(e=>{"ok"==e.status?(this.openToasts("<center>Company created successfully.<center>"),$("ion-input").val("")):this.openToaste("<center>Company name is existing!<center>")})});this.openToaste("<center>"+t[0]+" field is required.</center>"),this["thisInput"+n[0]].setFocus()}openToasts(e){return(0,s.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+e+"</center>",duration:2e3,color:"success"})).present()})}openToaste(e){return(0,s.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"<center>"+e+"</center>",duration:2e3,color:"danger"})).present()})}backButton(){this.router.navigate(["/profile"])}createCompany(){if(this.plt.is("ios"))var e="ios";else e=this.plt.is("android")?"android":"APP";$("#createCompany").attr("disabled","true");var t=0,n=[],o=[];if($(".requiredcomp").each(function(){""==$(this).val()&&(t++,n.push($(this).siblings("ion-label").text()),o.push($(this).attr("id")))}),console.log(t),0==t){var i=localStorage.getItem("HOMELINK").slice(0,-1)+"WithEmails/CreateCompany";$.ajax({url:i,type:"POST",dataType:"json",data:{action:"save",ucode:localStorage.getItem("UCODE"),cn:$("#cn").val(),ce:$("#ce").val(),phone:$("#phone").val(),ln:$("#ln").val(),fn:$("#fn").val(),pn1:$("#pn1").val(),email:$("#email").val(),plt:e},success:function(e){"ok"==e.status?(function(e){(0,s.mG)(this,void 0,void 0,function*(){const e=document.createElement("ion-toast");return e.message="<center><center>Company created successfully.<center></center>",e.duration=2e3,e.color="success",document.body.appendChild(e),e.present()})}(),setTimeout(function(){$("ion-input").val(""),$("#createCompany").removeAttr("disabled")},3e3)):($("#createCompany").removeAttr("disabled"),a("<center>Company name is existing!<center>"))}})}else $("#createCompany").removeAttr("disabled"),a("<center>Some fields(*) are required.</center>");function a(e){return(0,s.mG)(this,void 0,void 0,function*(){const t=document.createElement("ion-toast");return t.message="<center>"+e+"</center>",t.duration=2e3,t.color="danger",document.body.appendChild(t),t.present()})}}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(r.F0),c.Y36(l.B),c.Y36(a.yF),c.Y36(a._q),c.Y36(o.Ye),c.Y36(a.t4))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-create-company"]],viewQuery:function(e,t){if(1&e&&(c.Gf(u,5),c.Gf(p,5),c.Gf(m,5)),2&e){let e;c.iGM(e=c.CRH())&&(t.thisInputcn=e.first),c.iGM(e=c.CRH())&&(t.thisInputce=e.first),c.iGM(e=c.CRH())&&(t.thisInputphone=e.first)}},decls:55,vars:0,consts:[["slot","start"],["id","back",3,"click"],["name","chevron-back-outline",1,"return"],["position","floating"],[2,"color","red"],["type","text","id","cn",1,"requiredcomp"],["cn",""],["type","email","id","ce",1,"requiredcomp"],["ce",""],["type","tel","id","phone","maxlength","10",1,"requiredcomp"],["phone",""],["type","text","id","fn"],["type","text","id","ln"],["type","tel","id","pn1","maxlength","10"],["type","email","id","email"],["expand","block","color","secondary","id","createCompany","size","small",3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-buttons",0),c.TgZ(3,"ion-button",1),c.NdJ("click",function(){return t.backButton()}),c._UZ(4,"ion-icon",2),c.TgZ(5,"ion-label"),c._uU(6,"Back"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"ion-content"),c.TgZ(8,"ion-list"),c.TgZ(9,"ion-list-header"),c.TgZ(10,"ion-label"),c._uU(11,"Create a company"),c.qZA(),c.qZA(),c.TgZ(12,"ion-item"),c.TgZ(13,"ion-label",3),c._uU(14,"Company Name "),c.TgZ(15,"span",4),c._uU(16,"*"),c.qZA(),c.qZA(),c._UZ(17,"ion-input",5,6),c.qZA(),c.TgZ(19,"ion-item"),c.TgZ(20,"ion-label",3),c._uU(21,"Company Email "),c.TgZ(22,"span",4),c._uU(23,"*"),c.qZA(),c.qZA(),c._UZ(24,"ion-input",7,8),c.qZA(),c.TgZ(26,"ion-item"),c.TgZ(27,"ion-label",3),c._uU(28,"Phone Number "),c.TgZ(29,"span",4),c._uU(30,"*"),c.qZA(),c.qZA(),c._UZ(31,"ion-input",9,10),c.qZA(),c.TgZ(33,"ion-list-header"),c.TgZ(34,"ion-label"),c.TgZ(35,"h3"),c._uU(36,"Contact Person"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(37,"ion-item"),c.TgZ(38,"ion-label",3),c._uU(39,"First name"),c.qZA(),c._UZ(40,"ion-input",11),c.qZA(),c.TgZ(41,"ion-item"),c.TgZ(42,"ion-label",3),c._uU(43,"Last name"),c.qZA(),c._UZ(44,"ion-input",12),c.qZA(),c.TgZ(45,"ion-item"),c.TgZ(46,"ion-label",3),c._uU(47,"Phone number"),c.qZA(),c._UZ(48,"ion-input",13),c.qZA(),c.TgZ(49,"ion-item"),c.TgZ(50,"ion-label",3),c._uU(51,"Email"),c.qZA(),c._UZ(52,"ion-input",14),c.qZA(),c.qZA(),c.TgZ(53,"ion-button",15),c.NdJ("click",function(){return t.createCompany()}),c._uU(54,"Create"),c.qZA(),c.qZA())},directives:[a.Gu,a.sr,a.Sm,a.YG,a.gu,a.Q$,a.W2,a.q_,a.yh,a.Ie,a.pK,a.j9],styles:["ion-list-header[_ngcontent-%COMP%]{color:#202945;font-weight:500;font-family:Poetsen One;font-size:larger;text-align:center;margin-left:-10px!important}ion-button[_ngcontent-%COMP%]{text-transform:none;font-family:Poetsen One}ion-item[_ngcontent-%COMP%]{font-size:12px;--min-height:10px}"]}),e})()}];let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[r.Bz.forChild(d)],r.Bz]}),e})(),Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[o.ez,i.u5,a.Pc,h]]}),e})()}}]);